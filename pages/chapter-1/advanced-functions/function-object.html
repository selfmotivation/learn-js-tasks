<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Learn Javascript Solved Tasks</title>
  <link rel="stylesheet" href="../../../assets/css/article-page.css">
  <link rel="stylesheet" href="../../../assets/css/header.css">
  <link rel="stylesheet" href="../../../assets/css/sidebar.css">
</head>
<body>
  <header class="header">
    <a href="../../../index.html" class="logo">
      <span class="logo__text">Jav</span><img class="logo__img" src="../../../assets/img/logo.png" alt="logo"><span class="logo__text">script tasks</span>
    </a>
  </header>
  <sidebar class="sidebar">
    <h4 class="sidebar__title">Раздел главы</h4>
    <ul class="sidebar-list">
      <li class="sidebar-list__item">
        <a href="../advanced-functions.html" class="sidebar-list__link">Продвинутая работа с функциями</a>
      </li>
    </ul>
    <h4 class="sidebar__title">Статьи главы</h4>
    <ul class="sidebar-list">
      <li class="sidebar-list__item">
          <a class="sidebar-list__link" href="./recursion.html">Рекурсия и стек</a>
      </li>
      <li class="sidebar-list__item">
          <a class="sidebar-list__link" href="./rest-parameters-spread-operator.html">Остаточные параметры и оператор расширения</a>
      </li>
      <li class="sidebar-list__item">
          <a class="sidebar-list__link" href="./closure.html">Замыкание</a>
      </li>
      <li class="sidebar-list__item">
          <a class="sidebar-list__link" href="./var.html">Устаревшее ключевое слово "var"</a>
      </li>
      <li class="sidebar-list__item">
          <a class="sidebar-list__link" href="./global-object.html">Глобальный объект</a>
      </li>
      <li class="sidebar-list__item">
          <a class="sidebar-list__link" href="./function-object.html">Объект функции, NFE</a>
      </li>
      <li class="sidebar-list__item">
          <a class="sidebar-list__link" href="./new-function.html">Синтаксис "new Function"</a>
      </li>
      <li class="sidebar-list__item">
          <a class="sidebar-list__link" href="./settimeout-setinterval.html">Планирование: setTimeout и setInterval</a>
      </li>
      <li class="sidebar-list__item">
          <a class="sidebar-list__link" href="./call-apply-decorators.html">Декораторы и переадресация вызова, call/apply</a>
      </li>
      <li class="sidebar-list__item">
          <a class="sidebar-list__link" href="./bind.html">Привязка контекста к функции</a>
      </li>
      <li class="sidebar-list__item">
          <a class="sidebar-list__link" href="./arrow-functions.html">Повторяем стрелочные функции</a>
      </li>
    </ul>
  </sidebar>
  <main class="main">
    <h3 class="article-list__title title">
      Объект функции, NFE
    </h3>
    <section class="tasks">
      <h4 class="tasks__title title">Задачи</h4>
      <div class="task">
        <div class="task__title">Установка и уменьшение значения счётчика</div>
        <p class="task-description">
          Измените код <code>makeCounter()</code> так, чтобы счётчик мог увеличивать и устанавливать значение:
        </p>
        <p class="task-description">
          <ul class="task-list__simple">
            <li><code>counter()</code> должен возвращать следующее значение (как и раньше).</li>
            <li><code>counter.set(value)</code> должен устанавливать счётчику значение <code>value</code>.</li>
            <li><code>counter.decrease()</code> должен уменьшать значение счётчика на 1.</li>
          </ul>
        </p>
        <p class="task-description">
          Посмотрите код из песочницы с полным примером использования.
        </p>
        <p class="task-description">
          P.S. Для того, чтобы сохранить текущее значение счётчика, можно воспользоваться как замыканием, так и свойством функции. Или сделать два варианта решения: и так, и так.
        </p>
        <p class="task__solution">Решение:</p>
        <pre class="task__solution__code">
  <code>function makeCounter() {
    let count = 0;
  
    function counter() {
      return count++;
    }
  
    counter.set = value => count = value;
    counter.decrease = () => count--;
  
    return counter;
  }</code>
        </pre>
      </div>
      <div class="task">
        <div class="task__title">Сумма с произвольным количеством скобок</div>
        <p class="task-description">
          Напишите функцию <code>sum</code>, которая бы работала следующим образом:
        </p>
        <code class="task__code">
          <ol class="task__code-list">
            <li class="task__code-list__item task-list__item">sum(1)(2) == 3; // 1 + 2</li>
            <li class="task__code-list__item task-list__item">sum(1)(2)(3) == 6; // 1 + 2 + 3</li>
            <li class="task__code-list__item task-list__item">sum(5)(-1)(2) == 6</li>
            <li class="task__code-list__item task-list__item">sum(6)(-1)(-2)(-3) == 0</li>
            <li class="task__code-list__item task-list__item">sum(0)(1)(2)(3)(4)(5) == 15</li>
          </ol>
        </code>
        <p class="task-description">
          P.S. Подсказка: возможно вам стоит сделать особый метод преобразования в примитив для функции.
        </p>
        <p class="task__solution">Решение:</p>
        <pre class="task__solution__code">
  <code>function sum(a) {
    let currentSum = a;
  
    function f(b) {
      currentSum += b;
      return f;
    }
  
    f.toString = function() {
      return currentSum;
    };
  
    return f;
  }</code>
        </pre>
      </div>
    </section>
  </main>
</body>
</html>